<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to the Menu</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Using the Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- YouTube IFrame Player API Script -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /*
          This CSS class is for the hidden state of the sub-buttons container.
          'max-h-0' and 'opacity-0' hide the content and make it take up no space.
          'transform' is used to make the content initially invisible by scaling it vertically.
          The 'transition-all' class from Tailwind CSS will animate the changes.
        */
        .hidden-menu {
            max-height: 0;
            opacity: 0;
            transform: scaleY(0);
            transform-origin: top; /* Animation starts from the top */
        }

        /*
          This class is added by JavaScript to show the sub-buttons container.
          'max-h-[500px]' is a large height value to ensure the container can expand.
          'opacity-100' makes the content fully visible.
          'transform: scaleY(1)' returns the container to its normal size.
        */
        .active-menu {
            max-height: 500px;
            opacity: 100;
            transform: scaleY(1);
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="flex flex-col items-center">
        <!-- The new header text -->
        <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-8 text-center">
            Welcome
        </h1>
        
        <!-- Main button and music button -->
        <div class="flex gap-4">
            <button id="main-button"
                    class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Click to Show Menu
            </button>
            <button id="music-button"
                    class="bg-gray-700 text-white font-bold py-3 px-8 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-gray-300
                           active:scale-95 text-center">
                Play Music ⏯️
            </button>
        </div>


        <!-- Container for the 5 buttons, now arranged side-by-side -->
        <div id="sub-buttons-container"
             class="flex flex-row justify-center gap-4 mt-8
                    hidden-menu transition-all duration-500 ease-in-out">

            <!-- The five dynamically appearing buttons, now with the same styling as the main button -->
            <a href="math.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                math games
            </a>
            <a href="page2.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                
            </a>
            <a href="page3.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                App 3
            </a>
            <a href="page4.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                App 4
            </a>
            <a href="page5.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                App 5
            </a>
        </div>
    </div>
    
    <!-- This div will contain the hidden YouTube player -->
    <div id="player"></div>

    <script>
        // Get references to the main button and the container for the sub-buttons
        const mainButton = document.getElementById('main-button');
        const subButtonsContainer = document.getElementById('sub-buttons-container');
        const musicButton = document.getElementById('music-button');

        // Add a click event listener to the main button
        mainButton.addEventListener('click', () => {
            // Toggle the 'active-menu' class on the container to trigger the animation
            subButtonsContainer.classList.toggle('active-menu');
        });
        
        // ---- YouTube Player API Integration ----

        // A variable to hold the YouTube player object
        let player;
        let isMusicPlaying = false;
        
        // This function is automatically called when the YouTube IFrame Player API script has loaded.
        function onYouTubeIframeAPIReady() {
            // Create a new YouTube player instance
            player = new YT.Player('player', {
                height: '0', // Set height to 0 to make the player invisible
                width: '0',  // Set width to 0 to make the player invisible
                videoId: 'sO2L1L9W6Vw', // This is the ID for a royalty-free music video.
                playerVars: {
                    'autoplay': 0,      // Autoplay is off to comply with browser policies
                    'controls': 0,      // Hide player controls
                    'disablekb': 1,     // Disable keyboard controls
                    'loop': 1,          // Loop the video (requires playlist)
                    'playlist': 'sO2L1L9W6Vw' // The loop parameter only works with a playlist.
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }
        
        // This function is called once the player has loaded and is ready to play.
        function onPlayerReady(event) {
            // Now that the player is ready, we can add a listener to the music button.
            // The music won't play until the user clicks the button.
            musicButton.addEventListener('click', () => {
                if (isMusicPlaying) {
                    event.target.pauseVideo();
                    musicButton.textContent = 'Play Music ⏯️';
                } else {
                    event.target.playVideo();
                    musicButton.textContent = 'Pause Music ⏸️';
                }
                isMusicPlaying = !isMusicPlaying;
            });
        }
    </script>
</body>
</html>
