<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to the Menu</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Using the Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- YouTube IFrame Player API Script -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /*
          This CSS class is for the hidden state of the sub-buttons container.
          'max-h-0' and 'opacity-0' hide the content and make it take up no space.
          'transform' is used to make the content initially invisible by scaling it vertically.
          The 'transition-all' class from Tailwind CSS will animate the changes.
        */
        .hidden-menu {
            max-height: 0;
            opacity: 0;
            transform: scaleY(0);
            transform-origin: top; /* Animation starts from the top */
        }

        /*
          This class is added by JavaScript to show the sub-buttons container.
          'max-h-[500px]' is a large height value to ensure the container can expand.
          'opacity-100' makes the content fully visible.
          'transform: scaleY(1)' returns the container to its normal size.
        */
        .active-menu {
            max-height: 500px;
            opacity: 100;
            transform: scaleY(1);
        }

        /*
          This CSS customizes the appearance of the volume slider for better visuals.
        */
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          height: 12px;
          width: 12px;
          background: #3B82F6; /* Blue-600 */
          border-radius: 50%;
          cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
          height: 12px;
          width: 12px;
          background: #3B82F6; /* Blue-600 */
          border-radius: 50%;
          cursor: pointer;
        }

        /* Hide the slider initially and animate its appearance */
        .slider-wrapper {
            opacity: 0;
            max-height: 0;
            transition: all 0.3s ease-in-out;
        }

        .group:hover .slider-wrapper {
            opacity: 1;
            max-height: 50px;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="flex flex-col items-center">
        <!-- The new header text -->
        <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-8 text-center">
            Welcome
        </h1>
        
        <!-- Main button and music control -->
        <div class="flex gap-4">
            <button id="main-button"
                    class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Click to Show Menu
            </button>

            <!-- Music control container with the group hover utility -->
            <div class="relative group flex items-center justify-center h-12 w-12 rounded-xl">
                <!-- Speaker icon button -->
                <button id="speaker-button"
                        class="bg-gray-700 text-white rounded-full p-2
                               shadow-lg hover:shadow-xl
                               transition-all duration-300 transform
                               hover:scale-110
                               focus:outline-none focus:ring-4 focus:ring-gray-300
                               active:scale-95">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 9.75L19.5 12m0 0l-2.25 2.25M19.5 12H12m0 0V21.75c0 .621.504 1.125 1.125 1.125h.25a1.125 1.125 0 001.125-1.125V19.5m0-16.5V4.5m-1.125 2.25a2.25 2.25 0 110 4.5m0-4.5a2.25 2.25 0 00-2.25 2.25M17.25 21.75L12 16.5m-4.75 4.75a2.25 2.25 0 01-3.182-3.182L5.25 14.25m4.5-4.5l-2.25-2.25m2.25 2.25l2.25-2.25M7.25 5.25A2.25 2.25 0 0110.432 2.068a2.25 2.25 0 013.182-3.182L14.25 5.25M21.75 14.25L16.5 9m-4.5 2.25a2.25 2.25 0 01-3.182-3.182l2.25 2.25M14.25 9L12 6.75m-4.5-2.25a2.25 2.25 0 00-2.25-2.25M12 4.5m0-1.5a2.25 2.25 0 012.25 2.25m0-4.5a2.25 2.25 0 00-2.25-2.25" />
                    </svg>

                </button>
                <!-- Volume slider that appears on hover -->
                <div class="absolute bottom-full mb-2 slider-wrapper">
                    <input type="range" id="volume-slider" min="0" max="100" value="50" class="w-32 h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>
        </div>

        <!-- Container for the 5 buttons, now arranged side-by-side -->
        <div id="sub-buttons-container"
             class="flex flex-row justify-center gap-4 mt-8
                    hidden-menu transition-all duration-500 ease-in-out">

            <!-- The five dynamically appearing buttons, now with the same styling as the main button -->
            <a href="math.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Math Games
            </a>
            <a href="download-app-page.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Apps
            </a>
            <a href="music.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Music
            </a>
            <a href="embeds.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                Embedded Content
            </a>
            <a href="page5.html" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-xl
                           shadow-lg hover:shadow-xl
                           transition-all duration-300 transform
                           hover:scale-110
                           focus:outline-none focus:ring-4 focus:ring-blue-300
                           active:scale-95 text-center">
                App 5
            </a>
        </div>
    </div>
    
    <!-- This div will contain the hidden YouTube player -->
    <div id="player"></div>

    <script>
        // Get references to the main button and the container for the sub-buttons
        const mainButton = document.getElementById('main-button');
        const subButtonsContainer = document.getElementById('sub-buttons-container');
        const speakerButton = document.getElementById('speaker-button');
        const volumeSlider = document.getElementById('volume-slider');

        // Add a click event listener to the main button
        mainButton.addEventListener('click', () => {
            // Toggle the 'active-menu' class on the container to trigger the animation
            subButtonsContainer.classList.toggle('active-menu');
        });
        
        // ---- YouTube Player API Integration ----

        // A variable to hold the YouTube player object
        let player;
        let isMusicPlaying = false;
        
        // This function is automatically called when the YouTube IFrame Player API script has loaded.
        function onYouTubeIframeAPIReady() {
            // Create a new YouTube player instance
            player = new YT.Player('player', {
                height: '0', // Set height to 0 to make the player invisible
                width: '0',  // Set width to 0 to make the player invisible
                videoId: 'RLYksQvr5zY', // This is the ID for a royalty-free music video.
                playerVars: {
                    'autoplay': 0,      // Autoplay is off to comply with browser policies
                    'controls': 0,      // Hide player controls
                    'disablekb': 1,     // Disable keyboard controls
                    'loop': 1,          // Loop the video (requires playlist)
                    'playlist': 'RLYksQvr5zY' // The loop parameter only works with a playlist.
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }
        
        // This function is called once the player has loaded and is ready to play.
        function onPlayerReady(event) {
            // Set initial volume to a reasonable level
            event.target.setVolume(50);
            volumeSlider.value = 50;

            // Add a listener to the speaker button
            speakerButton.addEventListener('click', () => {
                if (isMusicPlaying) {
                    event.target.pauseVideo();
                } else {
                    event.target.playVideo();
                }
                isMusicPlaying = !isMusicPlaying;
            });

            // Add a listener to the volume slider to control the volume
            volumeSlider.addEventListener('input', (e) => {
                event.target.setVolume(e.target.value);
            });
        }
    </script>
</body>
</html>
